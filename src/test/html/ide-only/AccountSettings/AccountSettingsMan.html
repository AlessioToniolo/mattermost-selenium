<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="http://selenium.mattermost.com/" />
<title>AccountSettingsMan</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">AccountSettingsMan</td></tr>
</thead><tbody>
<!--*** Test on selenium.mattermost.com, on slow speed-->
<!--*** Also open a separate, Private FF browser and log in user test9-->
<!--*** Files for profile pic etc. available in Resources folder-->
<!--*** Watch a portion of the Private browser to see changes in real time-->
<!--*** Watch here for visual verification instructions-->
<!--LOG IN test10-->
<tr>
	<td>openAndWait</td>
	<td>/login</td>
	<td></td>
</tr>
<!--DisableAnimations-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test10@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<!--Verifies username, name, nickname display in member lists-->
<!--First verifes test10 has no name set and add a nickname, then log out-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#nameDesc &gt; span</td>
	<td>Click 'Edit' to add your full name</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#nicknameDesc &gt; span</td>
	<td>Click 'Edit' to add a nickname</td>
</tr>
<!--Add nickname-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=nicknameEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=nicknameEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=nickname</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=nickname</td>
	<td>eggplant</td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=nickname</td>
	<td>eggplant</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=nicknameDesc</td>
	<td>eggplant</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=logout</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=logout</td>
	<td></td>
</tr>
<!--Log in test9 to verify `@` is there, and there is no name-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test9@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<!--Verify in Town Square > View Members-->
<tr>
	<td>click</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=channelManageMembers</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=channelManageMembers</td>
	<td></td>
</tr>
<!--Verify full name of other user displays and is styled span.light-->
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>This Is a Very Long Name That Should Truncate</td>
</tr>
<!--Verify nickname of other user displays inside parentheses, span.light-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=span.light:contains('(eggplant)')</td>
	<td></td>
</tr>
<!--Verify `@` appears before username who has no first or last name-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=input.form-control.filter-textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=input.form-control.filter-textbox</td>
	<td>test10</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name &gt; span</td>
	<td>@test10 - (eggplant)</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__description</td>
	<td>test10@test.com</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=span.light</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.modal-header &gt; button.close &gt; span.sr-only</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.modal-header &gt; button.close &gt; span.sr-only</td>
	<td></td>
</tr>
<!--Verify in DM More... list-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=moreDirectMessage</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=moreDirectMessage</td>
	<td></td>
</tr>
<!--Verify full name of other user displays and is styled span.light-->
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>This Is a Very Long Name That Should Truncate</td>
</tr>
<!--Verify nickname of other user displays inside parentheses, span.light-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=span.light:contains('(eggplant)')</td>
	<td></td>
</tr>
<!--Verify `@` appears before username who has no first or last name-->
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='Select-input']/input</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>//div[@class='Select-input']/input</td>
	<td>test10</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name &gt; span</td>
	<td>@test10 - (eggplant)</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__description</td>
	<td>test10@test.com</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.modal-header &gt; button.close &gt; span.sr-only</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.modal-header &gt; button.close &gt; span.sr-only</td>
	<td></td>
</tr>
<!--Verify in Add Members to Team list-->
<tr>
	<td>waitForElementPresent</td>
	<td>//a[@href='/ui-automation2']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//a[@href='/ui-automation2']</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=headerTeamName</td>
	<td>UI Automation 2</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//button[@id='addUsersToTeam']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//button[@id='addUsersToTeam']</td>
	<td></td>
</tr>
<!--Verify full name of other user displays and is styled span.light-->
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>This Is a Very Long Name That Should Truncate</td>
</tr>
<!--Verify `@` appears before username who has no first or last name-->
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='Select-input']/input</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>//div[@class='Select-input']/input</td>
	<td>corey</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@corey</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.modal-header &gt; button.close &gt; span.sr-only</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.modal-header &gt; button.close &gt; span.sr-only</td>
	<td></td>
</tr>
<!--Log out test9, log in test10-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=logout</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=logout</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test10@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<!--Add position, verify max 128 characters-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=positionEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=positionEdit</td>
	<td></td>
</tr>
<!--Position accepts 128 characters-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=position</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=position</td>
	<td>A Job with a Very Long Title A Job with a Very Long Title A Job with a Very Long Title A Job with a Very Long Title 012345678901</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=positionDesc</td>
	<td>A Job with a Very Long Title A Job with a Very Long Title A Job with a Very Long Title A Job with a Very Long Title 012345678901</td>
</tr>
<!--Cannot type more than 128 characters-->
<!--Can verify manually; Se replaces last character rather than prevent typing-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=positionEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=positionEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=position</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=position</td>
	<td>3</td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=position</td>
	<td>A Job with a Very Long Title A Job with a Very Long Title A Job with a Very Long Title A Job with a Very Long Title 0123456789013</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=cancelSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=cancelSetting</td>
	<td></td>
</tr>
<!--Full name - long name truncates in popover-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=nameEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=nameEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=firstName</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=firstName</td>
	<td>This is a Long Name</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=lastName</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=lastName</td>
	<td>That Should Truncate</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=nameDesc</td>
	<td>This is a Long Name That Should Truncate</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<!--Post a message to display profile pic and access popover-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>Popover${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.user-popover:contains('test10')</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.user-popover:contains('test10')</td>
	<td></td>
</tr>
<!--*** Visually Verify truncated, e.g. "This is a Long Name That Should Tr..."-->
<tr>
	<td>pause</td>
	<td>5000</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>link=@test10</td>
	<td>@test10</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=test10@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.popover__row.first &gt; a &gt; span</td>
	<td>Edit Account Settings</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.popover__row.first &gt; a &gt; span</td>
	<td>Edit Account Settings</td>
</tr>
<!--Change username for other user to verify in popover-->
<!--Access Account Settings from own popover-->
<tr>
	<td>click</td>
	<td>css=div.popover__row.first &gt; a &gt; span</td>
	<td>Edit Account Settings</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=usernameEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=usernameEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=username</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=username</td>
	<td>test10edited</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=usernameDesc</td>
	<td>test10edited</td>
</tr>
<!--*** Image is available in Resources folder for upload as profile pic-->
<!--profile-sloth.png-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Upload profile picture for other user to verify in popover-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=pictureEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=pictureEdit</td>
	<td></td>
</tr>
<!--*** Manually select image profile-sloth.png in Resources folder-->
<tr>
	<td>waitForElementPresent</td>
	<td>xpath=(//input[@type='file'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>xpath=(//input[@type='file'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>6000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.profile-img-preview</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Save</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Save</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>css=div.profile-img-preview</td>
	<td></td>
</tr>
<!--*** Can visually verify in other browser that profile picture updated on post-->
<!--*** Or wait for the test to log in as test9 (below) and visually verify there-->
<!--Verify other user sees updates in popover-->
<!--LOG OUT test10-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=logout</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=logout</td>
	<td></td>
</tr>
<!--LOG IN test9-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>test9</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.user-popover:contains('test10')</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.user-popover:contains('test10')</td>
	<td></td>
</tr>
<!--*** Visually Verify "This is a Long Name That Should Tr..."-->
<!--*** Visually Verify updated profile picture-->
<tr>
	<td>pause</td>
	<td>5000</td>
	<td></td>
</tr>
<!--Verify updated username-->
<tr>
	<td>waitForText</td>
	<td>link=@test10edited</td>
	<td>@test10edited</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=test10@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.popover__row.first &gt; a &gt; span</td>
	<td>Edit Account Settings</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Send Message</td>
	<td></td>
</tr>
<!--LOG OUT test9-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=logout</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=logout</td>
	<td></td>
</tr>
<!--LOG IN test10-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>test10edited</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<!--Verify non-square profile pic is not stretched-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<!--Upload a picture that is not square (wider than tall, or taller than wide), can use:-->
<!--MmlogoHorizontal.png in Resources folder (also at the following URL:)-->
<!--https://www.mattermost.org/wp-content/uploads/2016/03/logoHorizontal.png-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=pictureEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=pictureEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>xpath=(//input[@type='file'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>xpath=(//input[@type='file'])[2]</td>
	<td></td>
</tr>
<!--*** Manually select MmlogoHorizontal.png (non-square image)-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<!--*** Verify preview thumbnail cropped not stretched (sample shows partial "tte")-->
<!--*** Visually verify before saving that orientation appears correct-->
<tr>
	<td>pause</td>
	<td>6000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Save</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Save</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=pictureEdit</td>
	<td></td>
</tr>
<!--*** Visually verify profile pic (behind modal, top left) appears like thumbnail did-->
<!--*** Picture is cropped to show center of the image, and image is not stretched-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<!--Non-image file (with errant image-type file extension) shows error-->
<!--not-an-image-file.jpg in Resources folder-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=pictureEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=pictureEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>xpath=(//input[@type='file'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>xpath=(//input[@type='file'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>6000</td>
	<td></td>
</tr>
<!--*** Manually select not-an-image-file.jpg (has been given incorrect image file extension)-->
<!--*** Visually verify thumbnail area is blank-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Save</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Save</td>
	<td></td>
</tr>
<!--Error displays, picture is not changed-->
<tr>
	<td>waitForText</td>
	<td>css=label.col-sm-12.has-error</td>
	<td>Could not save profile image. File does not appear to be a valid image.</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Cancel</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Cancel</td>
	<td></td>
</tr>
<!--Other valid file types: BMP, JPG-->
<!--BMP-->
<!--BMP.bmp in Resources folder-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=pictureEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=pictureEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>xpath=(//input[@type='file'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>xpath=(//input[@type='file'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>6000</td>
	<td></td>
</tr>
<!--*** Manually select BMP.bmp in Resources folder-->
<!--*** Visually verify thumbnail shows BMP on penguin's belly-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Save</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Save</td>
	<td></td>
</tr>
<!--*** Visually verify (through overlay) that profile pic in top left shows BMP penguin-->
<tr>
	<td>pause</td>
	<td>6000</td>
	<td></td>
</tr>
<!--JPG-->
<!--JPG.jpg in Resources folder-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=pictureEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=pictureEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>xpath=(//input[@type='file'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>xpath=(//input[@type='file'])[2]</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>6000</td>
	<td></td>
</tr>
<!--*** Manually select JPG.jpg in Resources folder-->
<!--*** Visually verify thumbnail shows JPG on penguin's belly-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Save</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Save</td>
	<td></td>
</tr>
<!--*** Visually verify (through overlay) that profile pic in top left shows JPG penguin-->
<tr>
	<td>pause</td>
	<td>8000</td>
	<td></td>
</tr>
<!--INVALID FILE TYPES (in FF at least, just visually verify disabled in file dialog)-->
<!--*** NOTE: If browser dialog disallows clicking invalid file types, just verify -->
<!--*** that all file types in Resources folder other than PNG, BMP, JPG-->
<!--*** are not clickable. Check other image types, video, doc, etc.-->
<!--Cleanup: Change test10 name and username back to null and test10-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=nameEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=nameEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=firstName</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=firstName</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=lastName</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=lastName</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#nameDesc &gt; span</td>
	<td>Click 'Edit' to add your full name</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=usernameEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=usernameEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=username</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=username</td>
	<td>test10</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=usernameDesc</td>
	<td>test10</td>
</tr>
<!--Display: Theme-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=themeEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=themeEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=label</td>
	<td>Theme Colors</td>
</tr>
<!--Change to another default theme-->
<!--*** Visually verify changes to Mattermost Dark before saved-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.theme-label:contains('Mattermost Dark')</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.theme-label:contains('Mattermost Dark')</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Does not apply to all teams-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=applyThemeToAllTeams</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=applyThemeToAllTeams</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=applyThemeToAllTeams</td>
	<td>off</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--*** Visually verify other team not on Mattermost Dark theme-->
<tr>
	<td>waitForElementPresent</td>
	<td>//a[@href='/ui-automation2']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//a[@href='/ui-automation2']</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=headerTeamName</td>
	<td>UI Automation 2</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//a[@href='/ui-automation']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//a[@href='/ui-automation']</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=headerTeamName</td>
	<td>UI Automation</td>
</tr>
<!--Cancel out of theme change-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=themeEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=themeEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=label</td>
	<td>Theme Colors</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.theme-label:contains('Organization')</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.theme-label:contains('Organization')</td>
	<td></td>
</tr>
<!--*** Visually verify changed to Organization before cancelling theme change-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=cancelSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=cancelSetting</td>
	<td></td>
</tr>
<!--Clicking `Cancel` with unsaved changes prompts for confirmation-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.modal-body:contains('You have unsaved changes, are you sure you want to discard them?')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary:contains('Yes, Discard')</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-primary:contains('Yes, Discard')</td>
	<td></td>
</tr>
<!--*** Visually verify theme returns to Mattermost Dark; no changes-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Custom theme (vector copied from one of the default themes)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=themeEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=themeEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=customThemes</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=customThemes</td>
	<td></td>
</tr>
<!--Copy current theme vector-->
<tr>
	<td>storeValue</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>vector</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=standardThemes</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=standardThemes</td>
	<td></td>
</tr>
<!--Change to different theme-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.theme-label:contains('Organization')</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.theme-label:contains('Organization')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--Use copied Organization theme vector as custom theme-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=themeEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=themeEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=customThemes</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=customThemes</td>
	<td></td>
</tr>
<!--*** Something wrong with trying to paste vector in custom field-->
<!--*** Left in manual tests for now-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td></td>
</tr>
<!--Clunky way to clear field (type | null isn't working)-->
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td>${vector}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.col-sm-12 &gt; textarea.form-control</td>
	<td></td>
</tr>
<!--Apply to all teams-->
<tr>
	<td>waitForValue</td>
	<td>id=applyThemeToAllTeams</td>
	<td>on</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--*** Visually verify Organization theme on both teams-->
<tr>
	<td>pause</td>
	<td>4000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//a[@href='/ui-automation2']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//a[@href='/ui-automation2']</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=headerTeamName</td>
	<td>UI Automation 2</td>
</tr>
<tr>
	<td>pause</td>
	<td>4000</td>
	<td></td>
</tr>
<!--Use Slack theme-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=themeEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=themeEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#slackImportTheme &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#slackImportTheme &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=themeVector</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=themeVector</td>
	<td>#0D7E83,#076570,#F79F66,#FFFFFF,#D37C71,#FFFFFF,#F79F66,#F15340</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=submitButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=submitButton</td>
	<td></td>
</tr>
<!--*** Visually verify theme: Green title bars and lighter green sidebars, etc.-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Clicking `X` with unsaved changes prompts for confirmation-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.modal-body:contains('You have unsaved changes, are you sure you want to discard them?')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary:contains('Yes, Discard')</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-primary:contains('Yes, Discard')</td>
	<td></td>
</tr>
<!--24-hour clock, message posted after 1pm-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=clockEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=clockEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=clockFormatB</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=clockFormatB</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#clockDesc &gt; span</td>
	<td>24-hour clock (example: 16:00)</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>24-hour${KEY_ENTER}</td>
</tr>
<!--*** Visually verify a message posted after 1pm displays timestamp in 24-hr format-->
<!--*** (If testing before 1pm, scroll up or test this on a different server with old messages)-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Display: Link previews-->
<!--Display: Image preview expanded / collapsed-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=collapseEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=collapseEdit</td>
	<td></td>
</tr>
<!--Change to collapsed-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=collapseFormatB</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=collapseFormatB</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#collapseDesc &gt; span</td>
	<td>Collapsed</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>http://www.mattermost.org/wp-content/uploads/2016/04/icon_WS.png${KEY_ENTER}</td>
</tr>
<!--Verify image not visible, then expand and verify visible-->
<tr>
	<td>waitForNotVisible</td>
	<td>css=img.img-div</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=a.post__embed-visibility.pull-left</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=a.post__embed-visibility.pull-left</td>
	<td></td>
</tr>
<tr>
	<td>waitForVisible</td>
	<td>css=img.img-div</td>
	<td></td>
</tr>
<!--Click to collapse-->
<tr>
	<td>click</td>
	<td>css=a.post__embed-visibility.pull-left</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotVisible</td>
	<td>css=img.img-div</td>
	<td></td>
</tr>
<!--Change to expanded-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=collapseEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=collapseEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=collapseFormatA</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=collapseFormatA</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#collapseDesc &gt; span</td>
	<td>Expanded</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<!--Previously manually collapsed preview is not expanded-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotVisible</td>
	<td>css=img.img-div</td>
	<td></td>
</tr>
<!--Newly posted message: Preview is expanded-->
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>http://www.mattermost.org/wp-content/uploads/2016/04/icon_WS.png${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForVisible</td>
	<td>css=img.img-div</td>
	<td></td>
</tr>
<!--Reply with image: Preview expanded in both RHS and center-->
<tr>
	<td>type</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_SHIFT}${KEY_UP}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=reply_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=reply_textbox</td>
	<td>http://www.mattermost.org/wp-content/uploads/2016/04/icon_WS.png${KEY_ENTER}</td>
</tr>
<!--*** Visually verify image preview expanded in both RHS and center-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Link preview displays in both RHS and center-->
<!--Log out test10 and log in admin to enable link previews-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=logout</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=logout</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>admin</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=systemConsole</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=systemConsole</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=posts</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=posts</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=ServiceSettings.EnableLinkPreviewstrue</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=ServiceSettings.EnableLinkPreviewstrue</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<!--Log out admin, log test10 back in-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=span.dropdown__icon.admin-navbar-dropdown__icon</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=span.dropdown__icon.admin-navbar-dropdown__icon</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=logout</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=logout</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>test10</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<!--Verify link previews turned on-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=linkpreviewDesc</td>
	<td>On</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<!--Post a message to reply to-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>Testing link previews${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_SHIFT}${KEY_UP}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=reply_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=reply_textbox</td>
	<td>https://github.com/mattermost/mattermost-server${KEY_ENTER}</td>
</tr>
<!--*** Visually verify link preview looks the same in RHS and center-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=img.attachment__image.attachment__image--openraph</td>
	<td></td>
</tr>
<tr>
	<td>verifyElementPresent</td>
	<td>xpath=(//img[contains(@src,'https://avatars0.githubusercontent.com/u/9828093?s=400&amp;v=4')])[2]</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.sidebar--right__close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.sidebar--right__close</td>
	<td></td>
</tr>
<!--Advanced: Ctrl+Enter-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=advancedButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=advancedButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=advancedCtrlSendEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=advancedCtrlSendEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=ctrlSendOn</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=ctrlSendOn</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#advancedCtrlSendDesc &gt; span</td>
	<td>On</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<!--Post message using CTRL+ENTER: Center-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>Control and Enter${KEY_CTRL}${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('Control and Enter')</td>
	<td></td>
</tr>
<!--Message does not post on Enter: Center-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>Just Enter${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=post_textbox</td>
	<td>Just Enter</td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>css=span:contains('Just Enter')</td>
	<td></td>
</tr>
<!--Enter in the text box adds new line (add text to above and post)-->
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>Followed by Control and Enter${KEY_CTRL}${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('Just Enter<br />Followed by Control and Enter')</td>
	<td></td>
</tr>
<!--Post message using CTRL+ENTER: RHS-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_SHIFT}${KEY_UP}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=reply_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=reply_textbox</td>
	<td>Reply Control and Enter${KEY_CTRL}${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('Reply Control and Enter')</td>
	<td></td>
</tr>
<!--Message does not post on Enter: RHS-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=reply_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=reply_textbox</td>
	<td>Reply just Enter${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=reply_textbox</td>
	<td>Reply just Enter</td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>css=p:contains('Reply just Enter')</td>
	<td></td>
</tr>
<!--Enter in the text box adds new line (add text to above and post)-->
<tr>
	<td>sendKeys</td>
	<td>id=reply_textbox</td>
	<td>Followed by Control and Enter${KEY_CTRL}${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('Reply just Enter<br />Followed by Control and Enter')</td>
	<td></td>
</tr>
<!--Set back to sending message on Enter-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=advancedButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=advancedButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=advancedCtrlSendEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=advancedCtrlSendEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=ctrlSendOff</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=ctrlSendOff</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=advancedCtrlSendDesc</td>
	<td>Off</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<!--Advanced: Disable join / leave messages-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=advancedButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=advancedButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=join_leaveEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=join_leaveEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>//div[@id='accountSettingsModal']/div/div/div[2]/div/div[2]/div/div/div[2]/ul[3]/li[2]/ul/li/div/div[3]/span</td>
	<td>When &quot;On&quot;, System Messages saying a user has joined or left a channel will be visible. When &quot;Off&quot;, the System Messages about joining or leaving a channel will be hidden. A message will still show up when you are added to a channel, so you can receive a notification.</td>
</tr>
<!--Turn off-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=joinLeaveOff</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=joinLeaveOff</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#join_leaveDesc &gt; span</td>
	<td>Off</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<!--Create channel for another user to join-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=newPublicChannelName</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=newPublicChannelName</td>
	<td>Join</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=h4.channel-intro__title &gt; span</td>
	<td>Beginning of Join</td>
</tr>
<<<<<<< HEAD
=======
<!--These all need updating; it is expected for message to show if -->
<!--current user adds or removes other user. It is only if others join or leave-->
<!--themselves that the message shouldn't show. Tested manually 4.9 and 4.10 - -->
<!--overall join/leave message behavior is about to change, likely in next release-->
<tr>
	<td></td>
	<td></td>
	<td></td>
</tr>
<!--*** 5.0 and on: Need updated tests for combined join/leave messages!-->
<tr>
	<td></td>
	<td></td>
	<td></td>
</tr>
>>>>>>> master
<!--Add another user-->
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@id='channelIntro']/button</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@id='channelIntro']/button</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.Select-placeholder</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.more-modal__name</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__name</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>1000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--Verify no join message-->
<tr>
	<td>waitForElementNotPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>css=span:contains('added to the channel by test10')</td>
	<td></td>
</tr>
<!--Log in as user who joined and leave channel-->
<!--LOG OUT test10-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=logout</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=logout</td>
	<td></td>
</tr>
<!--LOG IN admin-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>admin</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<!--View Team UI Automation-->
<tr>
	<td>open</td>
	<td>/ui-automation/channels/town-square</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Join1</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Join1</td>
	<td></td>
</tr>
<!--Verify this user sees join messages-->
<tr>
<<<<<<< HEAD
	<td>waitForText</td>
	<td>css=div.post-message__text &gt; div</td>
	<td>@test10 joined the channel.<br /><br />You were added to the channel by @test10.</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p.markdown__paragraph-inline &gt; strong</td>
	<td>joined the channel</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>link=@test10</td>
	<td>@test10</td>
</tr>
<tr>
	<td>click</td>
	<td>link=@test10</td>
	<td></td>
</tr>
<tr>
=======
>>>>>>> master
	<td>waitForText</td>
	<td>link=test10@test.com</td>
	<td>test10@test.com</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=h3.popover-title &gt; a</td>
	<td>@test10</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Send Message</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--Leave channel-->
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/leave${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>link=Join</td>
	<td></td>
</tr>
<!--Log back in as test10 to verify no leave message-->
<!--LOG OUT admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=logout</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=logout</td>
	<td></td>
</tr>
<!--LOG IN test10-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>test10</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Join</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Join</td>
	<td></td>
</tr>
<!--Verify no leave message for other user-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>css=div:contains('@admin left the channel.')</td>
	<td></td>
</tr>
<!--Join/leave messages involving you still display-->
<tr>
	<td>waitForText</td>
	<td>css=div.post-message__text &gt; div</td>
	<td>You joined the channel.<br /><br />@admin added to the channel by you.</td>
</tr>
<!--Turn join / leave messages back on-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=advancedButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=advancedButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=join_leaveEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=join_leaveEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=joinLeaveOn</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=joinLeaveOn</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#join_leaveDesc &gt; span</td>
	<td>On</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<!--Admin's leave message now displays (at end of Value below; verifies whole string)-->
<tr>
	<td>waitForText</td>
	<td>css=div.post-message__text &gt; div</td>
	<td>You joined the channel.<br /><br />@admin added to the channel by you.<br /><br />@admin left the channel.</td>
</tr>
<!--Advanced - Markdown Preview (the only one available on selenium server)-->
<tr>
	<td>waitForElementNotPresent</td>
	<td>css=#previewLink &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=accountSettings</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=advancedButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=advancedButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=advancedPreviewFeaturesEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=advancedPreviewFeaturesEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=advancedPreviewFeaturesmarkdown_preview</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=advancedPreviewFeaturesmarkdown_preview</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>//div[@id='accountSettingsModal']/div/div/div[2]/div/div[2]/div/div/div[2]/ul[4]/li[2]/ul/li/div[2]/span</td>
	<td>Check any pre-released features you'd like to preview. You may also need to refresh the page before the setting will take effect.</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#advancedPreviewFeaturesDesc &gt; span</td>
	<td>1 Feature Enabled</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#previewLink &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>**Bold!** @test10</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#previewLink &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#previewLink &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p &gt; strong</td>
	<td>Bold!</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@test10</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#previewLink &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#previewLink &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=post_textbox</td>
	<td>exact:**Bold!** @test10</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p &gt; strong</td>
	<td>Bold!</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@test10</td>
	<td></td>
</tr>
<!--Tests end here for now-->
</tbody></table>
</body>
</html>
